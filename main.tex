% Possï¿½veis TODO
% - linkar as seï¿½ï¿½es de pesq ï¿½ seï¿½ï¿½o histï¿½rica
\documentclass[a4paper,titlepage]{article}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[portuges]{babel}
% setspace - \doublespace \onehalfspace
% fullpage - ??
\usepackage{verbatim,url}
\usepackage[dvips]{graphicx}
\usepackage[bf]{subfigure}
\usepackage[bf]{caption}
\usepackage{amsmath, amssymb, algorithm, algorithmic,fullpage,setspace}
\usepackage{mathtools,empheq}
\usepackage[pagebackref=true,breaklinks=true,letterpaper=true,colorlinks,bookmarks=false]{hyperref}
\usepackage{multirow}
\usepackage{xspace}
\usepackage{array}

\newtheorem{definition}{Definiï¿½ï¿½o}
\newtheorem{theorem}{Teorema}
\newtheorem{notation}{Notaï¿½ï¿½o}
\floatname{algorithm}{Algoritmo}

\newenvironment{changemargin}[2]{\begin{list}{}{
   \setlength{\topsep}{0pt}\setlength{\leftmargin}{0pt}
   \setlength{\rightmargin}{0pt}
   \setlength{\listparindent}{\parindent}
   \setlength{\itemindent}{\parindent} \setlength{\parsep}{0pt plus 1pt}
   \addtolength{\leftmargin}{#1}\addtolength{\rightmargin}{#2}
}\item }{\end{list}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% You have many versions of the macro \draftnote{My note}. 
% The first version puts notes (My note in the example)
% into the margin. The others insert within the document. 
% Toggle the empty definitions to hide all draft notes.

\newcommand{\draftnote}[1]{\marginpar{\tiny\raggedright\textsf{\hspace{0pt}#1}}}
%\newcommand{\draftnote}[1]{}
%
% This one is just for the comments for in-line text.
\newcommand{\indraftnote}[1]{\textcolor{blue}{\texttt{\footnotesize [#1]}}}
%\newcommand{\indraftnote}[1]{}

\newcommand{\todo}[1]{\indraftnote{todo: #1}}
%\newcommand{\todo}[1]{}
\usepackage{listings} % better verbatim env for sketching outlines/lists
\lstset{
basicstyle=\small,
columns=flexible,
breaklines=true
}

% Uncomment to eliminate draft text
\lstnewenvironment{draft}{ } { }
%\newenvironment{draft} {\expandafter\comment} {\expandafter\endcomment}   % Empty 

\newcommand{\scilab}{\textsc{Scilab}}
\newcommand{\matlab}{\textsc{Matlab}}
\newcommand{\sip}{SIP}
\newcommand{\animal}{AnImaL}
\newcommand{\eg}{{p.\ ex.}}
\newcommand{\etc}{{\it etc}}
\newcommand{\ie}{{\it i.e.}}
\newcommand{\etal}{{\it et al.}}
\newcommand{\id}{\text{\emph{Id}}}
\newcommand{\dof}{\textsc{dof}}
\newcommand{\ransac}{\textsc{ransac}}
\newcommand{\sift}{\textsc{sift}}
\newcommand{\svd}{\textsc{svd}}
\newcommand{\sfm}{\textsc{sfm}}

\newcommand{\Gama}{\boldsymbol{\Gamma}}
\newcommand{\gama}{\boldsymbol{\gamma}}
\newcommand{\bsigma}{\boldsymbol{\sigma}}
%\newcommand{\Gama}{\Gamma}
%\newcommand{\gama}{\gamma}
\newcommand{\T}{\boldsymbol{T}}
\newcommand{\N}{\mathbf{N}}
\newcommand{\NSurface}{\mathbf{N}}
\newcommand{\Nlocal}{\overline{\N}} % normal in local coordinates
\newcommand{\balpha}{\boldsymbol{\alpha}}
\newcommand{\tDt}{t+\Delta t}
\newcommand{\bpsi}{\boldsymbol{\boldsymbol{\psi}}}
\newcommand{\bp}{\mathbf p}
\newcommand{\deldt}[1]{\frac{\partial#1}{\partial t}}
\newcommand{\ddt}[1]{\frac{d #1}{dt}}
\newcommand{\delds}[1]{\frac{\partial#1}{\partial s}}
\newcommand{\mybar}[1]{\overline{#1}}
\newcommand{\norm}[1]{\|#1\|}
\newcommand{\I}{\mathbf{I}}
\newcommand{\brho}{\boldsymbol{\rho}}
\newcommand{\lightrgb}{\boldsymbol{l}}
\newcommand{\B}{\boldsymbol{B}}
\renewcommand{\t}{\boldsymbol{t}}
\newcommand{\n}{\boldsymbol{n}}
\renewcommand{\b}{\boldsymbol{b}}
\newcommand{\e}{\boldsymbol{e}}
\newcommand{\f}{\boldsymbol{e}_3}
\newcommand{\ff}{\mathbf{f}}
\newcommand{\hf}{\boldsymbol{\hat{f}}}
\newcommand{\g}{\boldsymbol{g}}
\newcommand{\G}{\boldsymbol{G}}
\newcommand{\bc}{\boldsymbol{c}}
\newcommand{\Curve}{\Gamma}
%\newcommand{\X}{\boldsymbol{X}}
%\newcommand{\x}{\boldsymbol{x}}
\newcommand{\X}{\mathbf{X}}
\newcommand{\x}{\mathbf{x}}
\newcommand{\tilx}{\tilde x}
\newcommand{\tily}{\tilde y}
\newcommand{\tilgama}{\tilde \gama}
\newcommand{\ugama}{\hat{\gama}} %unit gama
\newcommand{\br}{\bar r}
\newcommand{\Kc}{\mathbf K_c}
\newcommand{\Kim} {\mathcal K_{im}}
\newcommand{\lepi}{\mathbf r}
\newcommand{\itan}{\tan^{-1}}
\newcommand{\uu}{\xi}
\newcommand{\buu}{\bar \uu}
\newcommand{\bvv}{\bar \vv}
\newcommand{\vv}{\eta}
\newcommand{\VV}{\mathbf{V}} % translational velocity
\newcommand{\VVspeed}{V} % translational velocity
\newcommand{\field}{\boldsymbol\chi}
\newcommand{\ufield}{\hat{\boldsymbol{\chi}}}
\newcommand{\fieldc}{\chi} % field component
\newcommand{\transl}{\mathcal{T}}
\newcommand{\rot}{\mathcal{R}}
\newcommand{\albedo}{\alpha}
\newcommand{\depth}{\rho}      % depth as z
\newcommand{\udepth}{{\hat{\rho}}} % depth along ray
\newcommand{\ttransl}{\T} % translation tangent
\newcommand{\surface}{\mathcal{M}} % surface/manifold
\newcommand{\surf}{\mathcal{M}} % surface/manifold short
\newcommand{\jacm}{\mathtt{J}} % Jacobian matrix
\newcommand{\xbar}{\bar x}
\newcommand{\ybar}{\bar y}
\newcommand{\zbar}{\bar z}

\newcommand{\bdelta}{\boldsymbol \delta}
%\newcommand{\X}{\boldsymbol{X}}
%\newcommand{\x}{\boldsymbol{x}}
%\newcommand{\X}{\mathbf{X}}
%\newcommand{\x}{\mathbf{x}}
\newcommand{\boldu}{\mathbf{u}}
\newcommand{\boldv}{\mathbf{v}}
\newcommand{\boldw}{\mathbf{w}}
\newcommand{\tgtveloc}{\tilde\alpha} % real tangential velocity
\newcommand{\mccn}{\textsc{mccn}\xspace}

\newcommand{\argmin}{\operatornamewithlimits{argmin}}
\newcommand{\argmax}{\operatornamewithlimits{argmax}}
\newcommand{\avg}{\operatornamewithlimits{avg}}

\begin{document}

\input{titlepage}

%\tableofcontents
%\contentsline {section}{Refer\^{e}ncias}{16}
%\newpage
%\doublespacing
%\onehalfspacing
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TODO  TODO TODO 
%  - italico em spots e sub-arrays
%  - XXX
%  - @@@
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\section{Contextualização}

O presente plano de pesquisa se refere a atividades propostas para a aluna
Juliana Ventura, a serem realizadas a nível de doutorado no Instituto
Politécnico -- IPRJ/UERJ, Departamento de Modelagem Computacional.
Pretende-se trabalhar em conjunto com dois orientadores, os quais seriam prof.\
Ricardo Fabbri, do laboratório de visualização, e o prof.\ Francisco Duarte
Moura Neto, do laboratório de tecnologia da informação (LTI), juntando-se os
aspectos ativos recentemente das pesquisas de ambos. Pretende-se trabalhar em
conjunto com outros grupos de pesquisa além desses dois laboratórios dentro do
IPRJ, bem como outros pesquisadores no IMPA e em outras instituiçõs em
colaboração internacional na realização de projetos e publicação de artigos.
Dentre as instituições internacional envolvidas, tem-se: Brown University,
University of Liverpool, Notre Dame University, Georgia Tech, Czech Technical
University, e General Motors Research.

\section{Introdução}


Na presente década está-se presenciando um nível de investimentos sem
precedentes em ecosistemas de tecnologia para modelagem 3D de fenômenos
usando-se múltiplas imagens adquiridas por uma câmera em diferentes posições,
múltiplas câmeras, ou vídeo~\cite{AppleKeynote:2018}. % A Expand here on explicit applications and citations
% - mention concrete appso ok
% - mention hot techs that have been developed, then link to next sentence
Esse impacto cada vez maior da visão computacional 3D se deve em grande parte a
tecnologias de \emph{structre from motion} (SfM) desenvolvidas na década
passada, a qual possibilitou novas ferramentas para resolver problemas chave de
forma robusta e automática. No entanto, o vasto potencial das tecnologias 3D
permanece ainda inexplorado, em parte devido à rentabilidade de aplicações mais
simples e imediatas, e em parte devido a limitações da tecnologia evidentes
na medida em que aplicativos práticos são desenvolvidos, como realidade
aumentada~\cite{AppleKeynote:2018}. Pode-se afirmar que tais limitações se devem
em três problemas centrais: o uso de geometria projetiva clássica de pontos, sem 
a geometria diferencial necessária para modelar estruturas mais gerais; o uso
sub-ótimo de múltiplas imagens; e a necessidade de models 3D mais
estruturados.

O grupo de pesquisa do prof.\ Ricardo Fabbri tem tradição em um novo paradigma
fotogramétrico para a reconstrução 3D de objetos rígidos e não-rígidos a partir
de múltiplas imagens e
vídeo~\cite{Fabbri:Kimia:IJCV2016,Fabbri:PhD:2010,Fabbri:Giblin:Kimia:ECCV12,Fabbri:Kimia:EMMCVPR2005,Fabbri:Kimia:CVPR10,Usumezbas:Fabbri:Kimia:CVPR:2017,Usumezbas:Fabbri:Kimia:ECCV16}.
A pesquisa do prof.\ Fabbri tem como objetivo suplantar as limitações
supracitadas da tecnologia usual de reconstrução 3D, a qual é baseada em (e
limitada por) pontos de interesse. Uma das formas para se atingir esse objetivo
é empregando-se a informação disponível em curvas perceptuais em imagens,
através de um modelo 3D com progressivos níveis de detalhes baseado no chamado
\emph{3D curve sketch} (esboço 3D de curvas) e o \emph{3D curve drawing}
(desenho 3D de curvas). Tendo obtido um esboço inicial dos objetos 3D através do
casamento de curvas ao longo das múltiplas imagens, o modelo 3D pode ser
refinado em um grafo de curvas, similar a um desenho 3D. Superfícies podem ser
estendidas sobre esse desenho 3D para gerar uma reconstrução detalhada e
robusta a iluminação. Além da proposta do paradigma baseado em curvas, prof.\
Fabbri e colaboradores foram os primeiros a introduzir a ténica
CAD chamada Lofting à visão computacional em uma versão automática.

Este projeto objetiva unir a pesquisa em aprendizagem de máquina baseada em
difusão em grafos -- proveniente da
colaboração entre os orientadores prof.\ Ricardo Fabbri e prof.\ Francisco
Duarte Moura neto --  com a pesquisa específica em reconstrução 3D do prof.\
Fabbri, visando melhores algoritmos para inicializar modelos de câmera e de
objetos curvilíneos com pouca textura. A ideia principal é capitalizar nos
avanços recentes e de alto impacto realizados pelo prof.\ Fabbri durante sua
estadia no ICERM / Brown University, ao final de 2018 e no início de 2019 como
organizador do Research Cluster em ``Visão Algébrica'', reunindo os melhores
professores visitantes e seus alunos de doutorado. No início de 2019, o grupo
organizado pelo prof.\
Fabbri conseguiu levar consigo o ex-aluno de mestrado do IPRJ David da Costa de
Pinho, e sua tese de mestrado desenvolvida no IPRJ teve grandes desdobramentos.
Este projeto tambem almeja captalizar no sucesso e grande interesse demonstrado
pela comunidade internacional nesta dissertação de mestrado do aluno do IPRJ.
Apesar dos problemas algébricos locais terem sofrido grande avanço durante a
estadia de David e Fabbri no ICERM/Brown University, ainda restam dois problemas
chave: 1) como encontrar o melhor problema inicial para aumentar a velocidade da
continuação homotópica para calcular configurações de três câmeras para novas
imagens, e 2) como integrar a informação local para se utilizar a estrutura
global de curvas.

Com o acabouço de aprendizagem de máquina trabalhado entre os prof.\ Fabbri e
prof.\ Moura Neto nos últios anos, que envolve difusão em grafos e Teoria de
Padrões, é possível no problema 1) treinar um mapa
entre as entradas de três pontos-tangentes em curvas e os 11 graus de liberdade
de soluções iniciais para a escrita de um \emph{solver} rápido por continuação
homotópica, realizando aprendizagem com sistemas dinâmicos de soluções
algébricas; e 2) realizar a estimativa inicial de um sistema de câmeras a partir
de três imagens, explorando-se a estrutura global de curvas. O uso de três
imagens fornece uma dimensionalidade e estrutura interessante: equações bem
definidas, estrutura de curvas em duas e três dimensões, bem como um espaço de
11 dimensões descrevendo três câmeras. Apenas duas imagens não
permitiria o uso de estruturas curvilíneas para a estimação de câmeras, e o estudo
de mais de três imagens cai em problemas genéricos de aprendizagem e otimização
e intratabilidade, com pouca robustez. Mais detalhes são fornecidos a seguir.

\section{Reconstrução do Desenho 3D a partir de múltiplas perspectivas}
Esta seção resume o trabalho anterior de Fabbri~\etal sobre o paradigma do
Desenho 3D para reconstrução de cenas (coleções de objetos) a partir de múltiplas imagens.
O fundamento matemático está presente em~\cite{fabbri2016multiview},
relacionando as propriedades diferencias de uma curva 3D
$\Gamma(S)$, onde $\Gamma$ é um ponto 3D (possivelmente em uma curva) no sistema
de coordenadas de câmera, e $S$ is é uma parametrização da curva 2D
correspondente, $\gama(s)$, onde $\gama$ é um ponto em uma imagem e $s$ é uma
parametrização da curva 3D. Usando-se a relação
$\Gamma(S) = \rho(s) \gama(S)$, onde $\rho$ é a profindidade do ponto
denotado por $\Gama$, a geoemtria diferencial da curva 3D
$\{
\boldsymbol{T},\boldsymbol{N},\boldsymbol{B}, K, \dot{K},\tau, G,G',G''\}$ é
relacionada à geometria diferencial da curva 
$\{\boldsymbol{\gamma},
\boldsymbol{t}, \boldsymbol{n}, \kappa, \dot{\kappa}, g, g', g'',\rho,
\rho',\rho'',\rho'''\}$, onde
$\{\boldsymbol{T},\boldsymbol{N},\boldsymbol{B}\}$ é o triedro de Frenet da
curva 3D, \ie, a tangente, normal e binormal unitário, 
$K$ e $\tau$ são as curvatura e torção and torsion da curva espacial, resp.,
$\kappa$ é a curvatura da curva numa imagem, e $G$ e $g$ são as velocidades de
parametrização das curvas 3D e 2D, resp., e onde
`` $'$ " e `` $\cdot$ " simbolizam a diferenciação relativa a um parâmetro
espacial arbitrário ($S$ ou $s$) ou parametrização por comprimento de arco,
resp. 

Note-se que $\dot{\kappa}$ e $\dot{K}$ compõe modelos intrínsecos das curvas. 
Foi demonstrado pela primeira vez por Fabbri~\etal~\cite{fabbri2016multiview} como
essas quantias estão relacionadas. Por exemplo, o vetor tangente à curva
espacial pode ser escrito como 
$\boldsymbol{T}=\rho'\boldsymbol{\gamma}+\rho g \boldsymbol{t}$, e a tangente à
curva projetada é $\boldsymbol{t}=\frac{\boldsymbol{T}-e^T_3\boldsymbol{T}
\boldsymbol{\gamma}}{||\boldsymbol{T}-e^T_3\boldsymbol{T}
\boldsymbol{\gamma}||}$,  onde $e_3^T=(0,0,1)$. Outro exemplo é que a razão das
velocidades de parametrização é uma quantia intrínseca
$\frac{g}{G}=\frac{||\boldsymbol{T}-e^T_3\boldsymbol{T}
\boldsymbol{\gamma}||}{e^T_3\boldsymbol{T}}$. Também foi demonstrada a
reconstrução de uma curva espacial (\ie, de torção não-nula) pela primeira vez na literatura.


Essas relações são muito impotantes para se relacionar três ou mais imagens 
de multiplas vistas ou para reconstruir-se uma cena: foi mostrado como 
a geometria diferencial em duas vistas (tangente, curvatura, e
derivada da curvatura) reconstroem a geometria diferencial em 3D (tangente,
curvatura e torção em 3D), Figure~\ref{fig:WW1}
Neste projeto, focaremos na continuidade da pesquisa de Fabbri no ICERM/Brown
University iniciada por seu aluno de mestrado David de Pinho, a qual foca 
nas propriedades de primeira ordem (tangente) como um primeiro porém
importantíssimo passo que já despertou grande interesse da comunidade
científica e industrial (no ramo de realidade aumentada e reconstrução de
fluidos).

\begin{figure}[h]
    \centering
    a\includegraphics[width=0.45 \linewidth]{figs/FigureWW1/image51.png}\ 
    b\includegraphics[width=0.45 \linewidth]{figs/FigureWW1/image211.png}
    c\includegraphics[width=0.45 \linewidth]{figs/FigureWW1/image18.png}
\caption{A geometria diferencial de uma curva 3D e suas projeções são
  relacionadas por equações, no caso um modelo local de primeira ordem (vetor
  tangente) em duas imagens reconstroem as tangentes no espaço tridimensional,
  e, através deste, as tangentes (modelos locais) em outras imagens.
}
    \label{fig:WW1}
    \vspace{-0.2cm}
\end{figure}
A linha de trabalhos mais práticos de Fabbri~\etal\ permite extrair um desenho
3D e superfícies acopladas, representando objetos vistos por imagens. 
As etapas desse sistema prático de reconstrução 3D são ilustradas na
figura~\ref{fig:lofting:pipeline}, sendo que nem todos os módulos ainda foram
publicados.
De maneira resumida, uma vez que as posições de câmeras tenham sido calculadas,
usando-se o trabalho desenvolvido por Fabbri junto ao aluno David de Pinho,
e junto ao célebre matemático Peter Giblin,
cada segmento de curva em uma imagem busca porções correspondentes de curvas em
alguma outra imagem para assim hipotetizar um fragmento de curva 3D, hipótese
esta que é confirmada ou refutada reprojetando-se em outras imagens. Esse
processo resulta em um conjunto inicial desorganizado de fragmentos 3D
denominado ``esboço 3D de
curvas''~\cite{fabbri2011multiview,fabbri2016multiview},
Figure~\ref{fig:lofting:pipeline} (\emph{3D curve sketch}). Neste estágio
inicial de reconstrução, o esboço 3D de curvas sofre de erros de agrupamentos e
fragmentações, além de redundância já que a informação ainda não foi integrada
para diferentes pares de imagens, o que motivou Fabbri~\etal~\cite{usumezbas2016multiview}
a explorar a conectividade topologica  para produzir um grafo conexo de
curvas longas, denominado ``desenho 3D de curvas'', ver terceira linha na
Figura~\ref{fig:lofting:pipeline}.
\begin{figure*}
  \begin{center}
    \includegraphics[width=\linewidth]{figs/mega-system-drawing-pt.pdf}
    \includegraphics[width=\linewidth]{figs/lofting-pipeline.png}
  \end{center}
%  \ReduceBeforeCaptionfigspace
  \caption{Uma ilustração de um sistema completo de visão 3D baseado em curvas e
  superfícies. Muitos desses módulos ainda estão em desenvolvimento.}
%  \ReduceAfterCaptionfigspace
  \label{fig:lofting:pipeline}
\end{figure*}

\section{Objetivos}

Na Figura~\ref{fig:lofting:pipeline} ilustrando os módulos do sistema de
reconstrução 3D que compõe a pesquisa do prof.\ Fabbri, pretende-se abordar as
caixas em verde na primeira linha, em especial o módulo ``Curve-Based Trifocal
Pose Estimation'', usando-se ferramentas de aprendizagem de máquina baseada em
difusão em grafos e teoria de padrões.

\section{Aprendizagem de caminhos em \emph{solvers} por continuação homotópica}
Pretende-se explorar a estrutura de sistemas dinâmicos proveniente do
rastreamento de soluções de equações não-lineares algébricas para produzir um solver
rápido baseado em continuação homotópica. Durante a estadia do prof.\ Fabbri
liderando um ``research cluster'' (grupo de pesquisa temporário, similar a um workshop de
longa duração), foi produzido, pela primeira vez, um novo \emph{solver} para o
problema de se determinar a posição relativa de três câmeras a partir de três
imagens de curvas, Figura~\ref{fig:WW1}. Foi determinado que o problema é
sobredeterminado, e ignorando-se uma tangente, o problema se reduz a um
polinômio de grau 320~\cite{fabbri:arxiv:2019}. Foi produzido um solver rápido e
determinístico com técnicas estado da arte de geometria algébrica numérica no
rastreamento de soluções por continuação homotópica, resolvendo 11 variáveis de
três câmeras (rotação e translação) na ordem de 600ms.  No entanto, diversas
aplicações práticas requerem um tempo de execução em nanosegundos ou mesmo
microsegundos. Um dos objetivos deste projeto é aprender a estrutura das
equações e das trajetórias desse sistema dinâmico realizado pelo \emph{solver}, de forma a
melhor inicializar as 320 soluções o mais próximo possível do resultado final.
No entanto, o comportamento dessas trajetórias é pouco conhecido dos
pesquisadores em geometria algébrica.
Pretende-se, para isso, aprender o comportamento das trajetórias e utilizar o
conhecimento de equações diferencias do prof.\ Francisco Moura Neto.

\begin{figure}
   \centering
   \begin{tabular}{cc}
   \includegraphics[width=0.4\linewidth]{figs/data-sphere-new-v2}\\
   \includegraphics[width=0.4\linewidth]{figs/syntheticSampleImagesStereSm.png}
   \end{tabular}
   \caption{Dados de ``treinamento'' fornecendo uma amostra representativa de
     100 configurações iniciais. Em cada imagem, o solver por continuação
     homotópica fornece trajetórias que podem ser aprendidas e otimizadas, para
     gerar um solver muito rápido.
   }% (Dataset evolved from~\cite{Fabbri:Giblin:Kimia:ECCV12,Fabbri:Kimia:IJCV2016}) }
\label{fig:synth:data:sample}
\end{figure}

\section{Geometria trifocal de curvas curvas: de local a global}


O segundo grande objetivo deste trabalho é levar o \emph{solver} local citado na
seção anterior à construção de um \emph{solver} global, que utilize não apenas
triplas de pontos-tangentes nas curvas, como também integre solução na curva toda.
Ao mesmo tempo, isto permite resolver o problema da correspondência entre
curvas, através de um sistema de hipotetizar-e-testar.

Seja um conjunto de fragmentos de curvas em correspondência hipotética
$C_f$, $f=1, 2, ...,, F$ em $F$ imagens. Seja $\alpha(\xi)$ 
a curva de alinhamento definida por
\[
\alpha (\xi)= (s_1(\xi), s_2(\xi), ....., s_F(\xi)), \quad\quad \xi\in[0,1],
\]
tal que os pontos $\{C_1(s_1(\xi)), C_2(s_2(\xi)), ....., C_F(s_F(\xi))\}$ estão
em correspondência. Usa-se a notação $\alpha_{ij}(\xi) = \left(
s_i(\xi),s_j(\xi) \right)$ para simbolizar o alinhamento entre fragmentos $i$ e
$j$.

Dado o alinhamento entre quaisquer dois fragmentos
$\alpha_{ij}$, pode-se recostruir a geometria epipolar (representando a
disposição relativa entre as imagens), já que 
$\xi\in[0,1]$ gera inúmeros pares em correspondência, \eg,
$\xi_1,\xi_2,\dots,\xi_7$ fornece sete pontos
$\left( C_1(s_1(\xi_i)),\,C_2(s_2(\xi_i)) \right)$,
$i=1,2,\dots,7$. 

Para o caso de interesse de três imagens,
$\alpha_{12}(\xi)= (s_1,s_2)$ e $\alpha_{13}(\xi)= (s_1,s_3)$ fornece, a
princípio,
curvas de alinhamento independentes  $(C_1, C_2)$ e $(C_1, C_3)$. 
No entanto, isto não é livre de restrições entre $(C_2,C_3)$.
Na integração de informação local, mapas de difusão e teoria de padrões podem
auxiliar; em particular a curva de alinhamento não é uma curva completamente
livre, no início do sistema de reconstrução 3D, mas é parte do espaço de curvas
monotônicas, cuja dimensão é restrita. Empregar esses tipos de algoritmos no
caso de informação discreta é um dos pontos fortes da pesquisa com o prof.\ Mora
NEto.

\begin{figure}
\centering
\includegraphics[scale=0.5]{figs/tri-alignment-eps-converted-to.pdf}
\caption{
  Curva de alinhamento entre três curvas em três imagens.
}
\label{fig:trialign}
\end{figure}




%%%%%     \textbf{Multiview Local Consistency Network:}
%%%%%     The key idea underlying integration of reconstructions across views is the
%%%%%     detection of a common image structure supporting two reconstruction hypotheses. 
%%%%%     Two 3D local curve segments depict the same single underlying
%%%%%     3D object feature if they are supported by the same 2D image edge structures. 
%%%%%     Since the identification of common image structure can vary along the curve, it
%%%%%     must necessarily be a local process, operating at the level of a 3D local edge
%%%%%     and not a 3D curve. 
%%%%%     Two 3D edge elements (edgels) depict the same 3D structure if they 
%%%%%     receive support from the same 2D edgels in a sufficient number of views, so
%%%%%     3D-2D links between a 2D edgel to the 3D edgel it supports must be kept. Typically,
%%%%%     they share supporting image edges in many views; and the number of shared
%%%%%     supporting edgels is the measure of strength for a 3D-3D link between them.
%%%%%     
%%%%%     Formally, we define the Multiview Local
%%%%%     geometric consistency Network (MLN) as pointwise alignments $\phi_{ij}$ between 
%%%%%     two 3D curves $\Gama_i$ and $\Gama_j$: let $\Gama_i(s_i)$ and $\Gama_j(s_j)$ be
%%%%%     two points in two 3D curves, and define
%%%%%     \begin{equation}
%%%%%     S_{ij} \doteq \{v : \gama^{i,v}(s_i) \text{ and } \gama^{j,v}(s_j) \text{ share local support}\}.
%%%%%     \end{equation}
%%%%%     Then the a kernel function $\phi$ defines a consistency link between these two points,
%%%%%     weighted by the extent of multiview image support $\phi_{ij}(s_i,s_j) \doteq
%%%%%     |S_{ij}|$. When the curves are sampled, $\phi$ becomes an adjacency matrix of a
%%%%%     graph representing links between individual curve samples.
%%%%%     The implementation goes through each image edgel which votes for a 3D curve
%%%%%     point that has received support from it (see the supplementary material for
%%%%%     details).
%%%%%     
%%%%%     %\draftnote{cross check terminology w/ amir linking graphs}
%%%%%     %\draftnote{parametrized alignment to write integrals}
%%%%%     %\vspace{-0.3cm}
%%%%%     \begin{figure}
%%%%%     	%\captionsetup[subfigure]{labelformat=empty}
%%%%%     	\centering
%%%%%     	\begin{tabular}{cc}
%%%%%     %    \vspace{-0.3cm}
%%%%%     		\multirow{2}[2]{*}[20mm]{\includegraphics[width=0.75\linewidth]{figs/master-figure.png}} &
%%%%%     		\includegraphics[width=0.2\linewidth]{figs/cluster32-2.png}\\
%%%%%     		&
%%%%%     		\includegraphics[width=0.2\linewidth]{figs/cluster32-corr2.png}
%%%%%     	\end{tabular}
%%%%%       \vspace{2em}
%%%%%     	\caption{The four bottlenecks of
%%%%%     		Fig.~\ref{fig:issues:remaining} are resolved by integration of
%%%%%     		information/cues from all views. (a) The shared supporting edges, which are marked with circles, create the purple links between the corresponding samples of the 3D curves. These purple bonds will then be used to pull the redundant segments together and reorganize the 3D model into a clean 3D graph. Observe how the determination of common	image support can identify portions of the green and blue curves as identical	while differentiating the red one as distinct. A real example for a bundle of related curves is shown in (b) and the links among their edges in (c).
%%%%%     	}
%%%%%     	%   based on which 3D information with a
%%%%%     	%   common cause can be integrated, leading to a four-stage process of $(i)$
%%%%%     	%   establishing the links as pictured above, $(ii)$ identifying portions of 3D
%%%%%     	%   curves which arise from the same source, Fig~\ref{fig:overlap:masks}, $(iii)$
%%%%%     	%   precise localization for 3D curves with a common cause,
%%%%%     	%   Fig~\ref{fig:graph:organization}a, (iv) Topological merging of these
%%%%%     	%   segments, leading to a topological graph of 3D curve segments,
%%%%%     	%   Fig~\ref{fig:graph:organization}e.}\label{fig:master:figure}
%%%%%     \end{figure}
%%%%%     
%%%%%     %\vspace{-0.3cm}
%%%%%     
%%%%%     \textbf{Multiview Curve-level Consistency Network:}
%%%%%     The identification of 3D edges sharing 2D edges leads to
%%%%%     high recall operating point with many false links due to accidental alignment of
%%%%%     edge support. False positives can be reduced without affecting high
%%%%%     recall by employing a notion of curve context for each 3D edgel: a link
%%%%%     between two 3D edgels based on a supporting 2D edgel is more effective if
%%%%%     the respective neighbors of the underlying 3D edge on the underlying 3D curve
%%%%%     are also linked. 
%%%%%     
%%%%%     The curve context idea requires establishing new pairwise links between 3D
%%%%%     curves using MLN, when there are a sufficient number of links with
%%%%%     $\phi_{ij}>\tau_{\epsilon}$ between their constituent 3D edges (in our
%%%%%     implementation, $\tau_{\epsilon}=3$ and we require 5 such edges or more). The
%%%%%     linking of 3D curves is represented by the Multiview Curve-level Consistency
%%%%%     network (MCCN), a graph whose nodes are the 3D curves $\Gama_j$ and the edges
%%%%%     represent the presence of high-weight 3D edge links between these 3D curves. The
%%%%%     \mccn graph allows for a clustering of 3D curves by finding connected
%%%%%     components; and once a link is established between two curves, there is a high
%%%%%     likelihood of their edges corresponding in a regularized fashion, thus
%%%%%     fewer common supporting 2D edges are required to establish a link between all
%%%%%     their constituent 3D edges. This fact is used to perform gap filling, since even
%%%%%     no edge support is acceptable to fill in small gaps and create a continuous and
%%%%%     regularized correspondence if both neighbors of the gap are connected (see
%%%%%     pseudocode in Supplementary Materials for details). The two stages in
%%%%%     tandem, \ie, high recall linking of 3D edges and use of curve context to reduce
%%%%%     false positives leads to high recall and high precision, \textit{i.e.}, all the
%%%%%     3D edges which need to be related are related and very few outlier connections
%%%%%     remain.
%%%%%     
%%%%%     \begin{figure}
%%%%%     	\captionsetup[subfigure]{labelformat=empty}
%%%%%     	\centering
%%%%%     	\begin{tabular}{cc}
%%%%%     		\multirow{2}[2]{*}[13mm]{\includegraphics[width=0.55\linewidth]{figs/need-for-clusters.png}} &
%%%%%     		\includegraphics[width=0.45\linewidth]{figs/cluster7.png}\\
%%%%%     		&
%%%%%     		\includegraphics[width=0.45\linewidth]{figs/cluster7-corr.png}
%%%%%     		\\
%%%%%     	\end{tabular}
%%%%%     	%\ReduceBeforeCaptionfigspace
%%%%%     	\caption{\small 
%%%%%     		The correspondence between 3D edge samples is skewed along a curve, a direct indication that these links cannot be used as-is when averaging and fusing redundant curve reconstructions. Instead, each point is assumed to be in correspondence with the point closest to it on another overlapping curve, during the iterative averaging step. Observe that corrections can be partial along related
%%%%%     		curves.
%%%%%     	}
%%%%%     	\label{fig:overlap:masks}
%%%%%     \end{figure}

%\vspace{-0.3cm}

%The links between two 3D curves that are consistently overlapping according to
%evidence from multiple views form the so-called Multiview Curve-level
%Consistency Network, a graph defined as follows.
%\begin{definition}
%The Multiview Curve-level Consistency Network (MCCN) is a graph 
%\begin{equation}
%\text{\textit{MCCN}} = (S, L),
%\end{equation}
%where the vertices $S = \{1,\dots,K\}$ encode the set of 3D curves
%$\{\Gama_1,\dots,\Gama_K\}$ and $L$ is the link set defined below.
%\end{definition}
%\begin{definition}
%Let the set of so-called strong local links between curves $\Gama_i$ and
%$\Gama_j$ be defined as
%\begin{equation}
%S_{ij} \doteq \{(s,t) : \phi_{ij}(s,t) \geq \tau_{s}, \phi_{ij} \in
%\text{MLN}(\Gama_1,\dots,\Gama_K) \}.
%\end{equation}
%Then the set $L$ of the MCCN is defined as
%\begin{equation}
%L = \{(i,j) : |S_{ij}| \geq \tau_{sl}\}.
%\end{equation}
%\end{definition}
%\indraftnote{We can formulate L as an integral over alignment parameter, see
%rics notes}

%We cluster the 3D curves by computing the connected components of their MCCN.
%We then go back to local correspondences by filling-in short correspondence gaps
%of the MLN induced by the confidence gained by the curve-level consistency link.
%Further details are available in the form of a pseudocode in supplementary material.


%in this way, the set of these primitives is not an
%arbitrary heuristic but rather is a complete set of basic operations capable of
%breaking any merging problem into smaller chunks.

%\vspace{-0.8cm}

%\subsection{Other objectives}
%\begin{itemize}
%\item Help with the book to be published
%\item Take part in helping teach a graduate-level course.
%\end{itemize}

%\paragraph{Impact}

\section{Justificativa: as vantagens das curvas.}
Além de possibilitarem as inúmeras aplicações do sistema proposto citadas no início da
Introdução, as curvas como \emph{features} básicas para reconstrução 3D e
calibração têm as seguintes vantagens.  As curvas provenientes de
descontinuidade de bordas nas imagens são mais densas e mais bem-estruturadas do
que pontos isolados, e representam eficientemente a imagem ou cena 3D
subjacente. Elas fornecem um bom compromisso entre uma representação altamente
redundante na forma de arrays de píxels, e uma representação altamente esparsa
das nuvens de pontos de interesse. Isso permite o cálculo rápido de
reconstruções 3D (os \emph{3D curve sketch}), que, apesar de não possuirem
superfícies explícitas, são ainda reconhecíveis, estruturadas, e de eficiente
manipulação e armazenagem. Essa efficiência representacional é evidenciada em
uma tendência recente em computação gráfica de usar renderizações baseadas em
curvas (\emph{line-based} rendering) para aplicações de internet que exigem
eficiência, e também por razões estéticas. A riqueza estrutural de curvas é
illustrada pelo fato de ser impossível registrar uma nova imagem não-calibrada
com relação a uma nuvem de pontos 3D por si só, ao passo que essa tarefa se
torna possível com curvas 3D dada a maior estruturação geométrica (\eg,
reprojetando-se as curvas 3D na nova imagem e alinhando-as às curvas detectadas
na imagem). Ademais, é bem sabido que representações basedas em bordas
representam eficiente o conteúdo de uma imagem, o que motiva uma reconstrução de
curvas 3D eficiente para armazenar a informação geométrica mais relevante de uma
cena 3D. Curvas também têm maior invariância do que pontos de interesse a
mudanças de iluminação, são mais estáveis sob uma maior separação entre as
imagens, e são mais precisamente localizadas na direção normal. Ademais,
estrutura de curvas de bordas em uma imagem é correlacionada com propriedades
das superfícies subjacentes: curvas estacionárias (como as de reflectância) são
condições de contorno para reconstrução de superfícies, e a variação de
contornos de oclusão sob diferentes pontos de vista indica a curvatura da
superfície

\paragraph{Impacto tecnológico.} curve-based multiview reconstruct has broad
impacts in applications working with scenes that are largely textureless, as
frequently occurring in indoor environments, {\em e.g.}, the Hololens project at
Microsoft~\cite{nurutdinova2015towards}.  


\section{Metas}
\paragraph{Elaboração de Publicações}
Como metas específica deste projeto, tem-se a elaboração de
publicações (idealmente 1 por ano) nas principais revistas e conferências da área. Dentre as
revistas visadas, temos: International
Journal of Computer Vision, IEEE Pattern Analysis and Machine Intelligence, IEEE
Transactions in Image Processing, Pattern Recognition, ACM Computing Surveys, e
Journal of Mathematical Imaging and Vision. Também pretende-se enviar trabalhos
completos (arigos) às mais importantes conferências na área, a saber: IEEE CVPR
(Computer Vision and Pattern Recognition), IEEE ECCV (European Conference in
Computer Vision), IEEE ICCV (International Conference in Computer Vision),  ACM
SIGGRAPH, e o IEEE SIBIGRAPI.


\section{Metodologia}
A execução do projeto será dividida nas seguintes frentes, visando atingir as
metas descritas na seção anterior, na ordem descrita na próxima seção:
\begin{itemize}
\item \textbf{Auto-calibração trifocal.} Será estudado o trabalho do prof.\
  Fabbri e seu aluno David de Pinho, de forma compreender as soluções iniciais.
  Inicialmente serão adquiridas e visualizadas as trajetórioas do solver por
  continuação homotópica.  Esta etapa involve a compreensãl
de um algoritmo a partir de uma teoria clara de geometria algébrica
de diferencial, a ser desenvolvida em conjunto com o matemático Peter J.\ Giblin
da Universidade de Liverpool.
\item \textbf{Estudo de Geometria Algébrica Numérica.} Pretende-se estudar a solução de
sistemas de equações algébricas de maneira aprofundada, para auxiliar no item
anterior. Esta etapa também contará com reuniões com o matemático Peter J.\
Giblin, dentre outros.
\item \textbf{Validação e Experimentos de Larga escala.} Pretende-se realizar
experimentos na reconstrução em larga escala de objetos industriais 
partir de milhares de fotografias ou quadros de vídeo. A validação será
realizada através de comparaçao com objetos conhecidos \emph{a priori}
e impressos em impressoras 3D. O foco será encontrar objetos e cenas para os
quais as técnicas do \emph{solver} estudado sejam imprescindíveis.
\item \textbf{Desenvolvimento de Software livre para Visão Computacional.}
Pretende-se continuar o desenvolvimento de software livre, como uma
forma de contribuir para a sociedade, angariar colaborações,
garantir um controle de qualidade, e disseminar a pesquisa. 
\item Elaboração de Publicações como descrito nas metas.
\end{itemize}


%\begin{center}
%\begin{tabular} {||r|c|c|c|c||}
%\hline
%\textbf{Stages (trimesters)} & 1 & 2 & 3 & 4 \\
%\hline
%Reproduce 3D Curve Sketch System& X &  & & \\
%\hline
%Reproduce 3D Curve Drawing System& X & X & & \\
%\hline
%Reproduce 3D Lofting System &   & X &  & \\
%\hline
%Build graphs for surface merging& X & X & X & \\
%\hline
%Large scale expermients&   &   & & X\\
%\hline
%Write Software & X & X & X & X\\
%\hline
%Publish Open Source Software &  &  & X & X \\
%\hline
%Publications &  & X & X& X\\
%\hline
%\end{tabular}
%\end{center}

\section{Cronograma das Atividades}
A tabela abaixo mostra o cronograma para as principais frentes de atuação descritas na
seção anterior. Para a execução deste projeto, o período foi dividido em etapas aproximadamente
anuais.
\begin{center}
\begin{tabular} {||r|c|c|c|c||}
\hline
\textbf{Etapas anuais do doutorado} & 2 & 3 & 4 \\
\hline
Auto-calibração Trifocal & X &    & \\
\hline
Estudo de Geometria Algébrica Numérica & X &    & \\
\hline
Estudo de Mapas de Difusão e Teoria de Padrões &  X & X &  \\
\hline
Experimentos de Larga Escala &     & X & X\\
\hline
Escrita de Software Livre &   X & X & X\\
\hline
Elaboração de Publicações &   X & X & X\\
\hline
\end{tabular}
\end{center}

\section{Conclusão}
Este projeto propõe o desenvolvimento da tecnologia computacional de base
necessária para efetivar a praticidade de um novo
paradigma baseado em curvas e superfícies para reconstrução 3D e calibração, complementando as
presentes técnicas baseadas em pontos, as quais estão sendo usadas em larga
escala. A tecnologia proposta extenderá a capacidade das técnicas atuais,
permitindo o processamento de uma maior variedade de objetos de interesse
industrial, ao mesmo tempo
impondo menos restrições na aquisição. 


%\nocite{Fabbri:2002}
\addcontentsline{toc}{section}{Refer\^{e}ncias}
\bibliographystyle{ieeetr}
%\bibliography{personal,strings,shading,multiview,motion,Kimia,catagorization,edge-linking,deformable,medical,graphics,active-contours,texture,imaging,tracking,shape-papers,bib-header,video,math-books,math,psych-books,metric,edge,leymarie_pami_scaffold,vision-books,vision,nn-search,multidimscaling,psychophysics,indexing,segmentation,image-databases,shape-matching,neuro,skeleton,skeleton2D,aspect-graphs,recognition,surface-networks,ridge,proceedings,perceptual-grouping,continuation,graph-matching-2,cooper}
\bibliography{multiview,rf-multiview,Pajdla,ref}
%
% Assinaturas:
%\newpage
%\ \\\vspace{7cm}
%\center $\overline{\ \ \ Ricardo\ Fabbri\ \ \ }$
%\ \\\vspace{4cm}
%\center $\overline{\ \ \ Luciano\ da\ Fontoura\ Costa\ \ \ }$
\end{document}
